<% flash.each do |name, msg| %>
  <div class="alert alert-<%= name == "notice" ? "success" : "error" %>">
    <button class="btn-close" onclick="closeAlert(event)"><span>x</span></button>
    <%= msg %>
  </div>
<% end %>

<script>
  function closeAlert(event){
    var element = event.target;
    while (element.nodeName !== "BUTTON"){
      element = element.parentNode;
    }
    element.parentNode.parentNode.removeChild(element.parentNode);
  }
</script>
